export default class Game{constructor(){this.answer="",this.displayWord="",this.chances=0,this.mistakes=0,this.corrects=0,this.words=[],this.rightLetters=[],this.step=0,this.currentStep=0,document.getElementById("resetButton").addEventListener("click",t=>{this.reset()})}checkGameOver(){console.log(this.mistakes,this.chances),this.answer.length==this.corrects?(this.setButtons(!0),document.getElementById("result").style="color:#00FF88;",document.getElementById("result").innerHTML="Você Venceu!!!",setTimeout(()=>{let t=prompt("Adicione uma nova palavra:");null!=t&&""!=t&&(this.words.push(t.toUpperCase()),localStorage.setItem("words",this.words.join(",")))},500)):this.mistakes==this.chances&&(this.setButtons(!0),document.getElementById("result").style="color:#FF0000;",document.getElementById("result").innerHTML="Você Perdeu!!!")}clickLetter(t){t.disabled=!0,this.answer.indexOf(t.value)>-1?(this.rightLetter.push(t.value),this.printWord()):(this.mistakes++,this.currentStep+=this.step,document.getElementById("mistakes").innerText=this.mistakes,this.updateFigure(this.currentStep)),this.checkGameOver()}getKeyboard(){for(let t="A".charCodeAt();t<="Z".charCodeAt();t++){let e=document.createElement("input");e.type="button",e.id="btn_"+t,e.value=String.fromCharCode(t),e.className="guess-letter",e.addEventListener("click",t=>{this.clickLetter(t.target)}),document.getElementById("keyboard").appendChild(e)}}getWord(){this.answer=this.words[Math.floor(Math.random()*this.words.length)],this.chances=Math.floor(1.5*this.answer.length),this.step=150/this.chances,document.getElementById("chances").innerText=this.chances,document.getElementById("mistakes").innerText=this.mistakes}init(){this.answer="",this.chances=0,this.mistakes=0,this.corrects=0,this.rightLetter=[],this.currentStep=0,document.getElementById("result").innerHTML="";let t=localStorage.getItem("words");this.words=null==t||""==t?["PYTHON","PHP","JAVA","SCALA","JAVASCRIPT","ABACATE","BANANA"]:t.split(","),this.getWord(),this.printWord(""),this.updateFigure(0)}reset(){this.init(),this.setButtons(!1)}start(){this.getKeyboard(),this.init()}setButtons(t){document.querySelectorAll(".guess-letter").forEach(e=>{e.disabled=t})}printWord(){this.displayWord="",this.corrects=0;for(let t=0;t<this.answer.length;t++)this.rightLetter.indexOf(this.answer[t])>-1?(this.displayWord+=this.answer[t]+" ",this.corrects++):this.displayWord+="_ ";document.getElementById("word").innerText=this.displayWord}updateFigure(t){document.getElementById("figure-container").style.height=`${t}px`}}